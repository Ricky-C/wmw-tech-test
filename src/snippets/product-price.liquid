{% if product.compare_at_price > product.price %}
  {% if product.price_varies %}
    {%- assign sale_price = product.price | money -%}
    {{ 'products.product.from_text_html' | t: price: sale_price }}
    <span class="product-price__sale-label">{{ 'products.product.on_sale' | t }}</span>
  {% else %}
    {{ product.price | money }}
    <span class="product-price__sale-label">{{ 'products.product.on_sale' | t }}</span>
  {% endif %}
{% else %}
  {% if product.price_varies %}
    {%- assign price = product.price | money -%}
    {{ 'products.product.from_text_html' | t: price: price }}
  {% else %}
    {{ product.price | money }}
  {% endif %}
{% endif %}